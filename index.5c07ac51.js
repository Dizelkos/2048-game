var e=document.querySelector(".start"),r=document.querySelector("tbody"),a=document.querySelector(".game_score"),t=document.querySelector(".message_start"),n=document.querySelector(".message_lose"),o=document.querySelector(".message_win"),s=0,i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];function f(){for(var t=0;t<4;t++)for(var f=0;f<4;f++){var l=r.rows[t].cells[f],d=i[t][f];l.innerText="",l.classList.value="",l.className="field_cell",d>0&&(l.innerText=d,l.classList.add("field_cell__".concat(d))),2048===d&&(o.classList.remove("hidden"),e.classList.replace("restart","start"),e.innerText="Start")}a.innerText=s,function(){if(c())return!1;for(var e=0;e<4;e++)for(var r=0;r<3;r++){var a=i[e][r]===i[e][r+1],t=i[r][e]===i[r+1][e];if(a||t)return!1}return!0}()?n.classList.remove("hidden"):n.classList.add("hidden")}function c(){return i.some(function(e){return e.some(function(e){return!e})})}function l(){if(c()){for(var e=!1;!e;){var r=.5>Math.random()?2:4,a=Math.floor(4*Math.random()),t=Math.floor(4*Math.random());0===i[a][t]&&(i[a][t]=r,e=!0)}f()}}e.addEventListener("click",function(){i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0,e.classList.replace("start","restart"),e.innerText="Restart",t.classList.add("hidden"),l(),l()}),window.addEventListener("keydown",function(r){if(e.classList.contains("restart")){switch(r.preventDefault(),r.key){case"ArrowUp":!function(){for(var e=!1,r=0;r<4;r++)for(var a=1;a<4;a++)if(0!==i[a][r])for(var t=a;t>0;)if(0===i[t-1][r])i[t-1][r]=i[t][r],i[t][r]=0,t--,e=!0;else if(i[t-1][r]===i[t][r]){i[t-1][r]*=2,s+=i[t-1][r],i[t][r]=0,e=!0;break}else break;e&&l(),f()}();break;case"ArrowDown":!function(){for(var e=!1,r=0;r<4;r++)for(var a=2;a>=0;a--)if(0!==i[a][r])for(var t=a;t<3;)if(0===i[t+1][r])i[t+1][r]=i[t][r],i[t][r]=0,t++,e=!0;else if(i[t+1][r]===i[t][r]){i[t+1][r]*=2,s+=i[t+1][r],i[t][r]=0,e=!0;break}else break;e&&l(),f()}();break;case"ArrowLeft":!function(){for(var e=!1,r=0;r<4;r++)for(var a=1;a<4;a++)if(0!==i[r][a])for(var t=a;t>0;)if(0===i[r][t-1])i[r][t-1]=i[r][t],i[r][t]=0,t--,e=!0;else if(i[r][t-1]===i[r][t]){i[r][t-1]*=2,s+=i[r][t-1],i[r][t]=0,e=!0;break}else break;e&&l(),f()}();break;case"ArrowRight":!function(){for(var e=!1,r=0;r<4;r++)for(var a=2;a>=0;a--)if(0!==i[r][a])for(var t=a;t<3;)if(0===i[r][t+1])i[r][t+1]=i[r][t],i[r][t]=0,t++,e=!0;else if(i[r][t+1]===i[r][t]){i[r][t+1]*=2,s+=i[r][t+1],i[r][t]=0,e=!0;break}else break;e&&l(),f()}()}f()}});
//# sourceMappingURL=index.5c07ac51.js.map
